- content_for :breadcrumb do   
  %ul.horizontal_tab_submenu.js_tab_breadcrumb
    %li
      %a#tab_11{:href => "#Initialization"} Initialisation 
    %li                
      %a#tab_12{:href => "#Steps"} Temps 
    %li                
      %a#tab_13{:href => "#Materials"} Matériaux 
    %li                
      %a#tab_14{:href => "#Links"} Liaisons 
    %li                
      %a#tab_15{:href => "#Boundary_Conditions"} Conditions Limites
    %li                
      %a#tab_16{:href => "#Options"} Options 
    %li                
      %a#tab_17{:href => "#Forecast"} Prévisions


- content_for :left_list do 
  .tab_13_content
    %h2.grey Liste des pièces
    %ul#pieces
  .tab_14_content
    %h2.grey Liste des interfaces
    %ul#interfaces
  .tab_15_content
    %h2.grey Liste des bords
    %ul#edges
    

- content_for :right_list do 
  .tab_13_content
    %h2.grey Liste des Matériaux
    %ul#materials
  .tab_14_content
    %h2.grey Liste des Liaisons
    %ul#links
  .tab_15_content
    %h2.grey Liste des conditions aux limites
    %ul#boundary_conditions  

- content_for :top_calcul do 
  .tab_11_content
    %h2.grey Liste des calculs
    %ul#calculs
    #initialisation_button
      %a{:href => "#Temps", :class => 'yellow_button'}
        Etape suivante
  .tab_12_content
    %h2.grey Temps
    #steps
      %button#add_step Ajouter un Step
      %select#step_type
        %option{:value => "statique"} Statique
        %option{:value => "quasistatique"} Quasistatique
        %option{:value => "dynamique"} Dynamique
      %table#steps_table.grey
        %thead
          %tr.no_sorter
            %th Nom
            %th Temps initial
            %th Pas de temps
            %th Nombre de pas de temps
            %th Temps final
            %th
        %tbody

- content_for :details_calcul do 
  #edit_material.tab_13_content
    = render "calculs/partials/material_details_part"

  #edit_link.tab_14_content
    = render "calculs/partials/link_details_part"

  .tab_15_content
    = render "calculs/partials/new_edge_form"
    
- # TODO: Ramener dans ce fichier quand cela sera terminé. On charge dans ce partial le code de visualisation.
= render "calculs/partials/visualisation_interface"



- content_for :coffee do 
  :coffeescript
    $ ->
      SCVisu.current_company = #{current_user.company_id}
      
      SCVisu.standardLibraryMaterial = new SCVisu.MaterialCollection
      SCVisu.standardLibraryMaterial.reset #{@materials.to_json.html_safe}

      SCVisu.standardLibraryLink = new SCVisu.LinkCollection
      SCVisu.standardLibraryLink.reset #{@links.to_json.html_safe}
      
      SCVisu.CalculCollection = new SCVisu.Calculs
      SCVisu.CalculCollection.reset #{@calculs.to_json.html_safe}

      SCVisu.CalculViews = new SCVisu.CalculListView {collection: SCVisu.CalculCollection}




/ %h2 Initialisation du calcul

/ 
/ %table#links_table.grey
/   %thead
/     %tr.no_sorter
/       %th Nom
/       %th
/   %tbody
/ 
/ %table#selected_links_table.grey
/   %thead
/     %tr.no_sorter
/       %th Nom
/       %th
/       %th
/   %tbody
/ 
/ #edit_link
/   = render :partial => "links/details/link_generic_information", :locals => { :show_all => true }
/   = render :partial => "links/details/link_complexe_information", :locals => { :show_all => true }
/ 
/ 
/ = render 'calculs/partials/materials'
/ 