!!!
%html{ "xml:lang" => "fr", :lang => "fr", :xmlns => "http://www.w3.org/1999/xhtml" }
  %head
    %title
      Structure Computation
      
    / Balises META   
    %meta{ :content => "text/html; charset=utf-8", "http-equiv" => "Content-Type" }
    %meta{ :name => "title", :content => "Structure Computation" }
    %meta{ :name => "language", :content => "fr" }
    %meta{ :name => "robots", :content => "index, follow" }
    
    / Liens vers les CSS
    %link{ :href => "/stylesheets/main_visualisation.css", :rel => "stylesheet", :media => "screen" }

    / Javascripts
    %script{ :src => "/javascripts/sources_ext/jquery-1.3.2.js", :type => "text/javascript" }
    /%script{ :src => "/javascripts/imgserver.js", :type => "text/javascript" }
    %script{ :src => "/javascripts/img_gl_server.js", :type => "text/javascript" }
    %script{ :src => "/javascripts/functions_layer.js", :type => "text/javascript" }
    %script{ :src => "/javascripts/visualisation/functions_layer_visualisation.js", :type => "text/javascript" }
    %script{ :src => "/javascripts/visualisation/functions_visu.js", :type => "text/javascript" }
    %script{ :src => "/javascripts/texteutils.js", :type => "text/javascript" }}


  %body
    #conteneur
      = render :partial => "layouts/header"
      / partie content_top
      #NC_content_top
      / fin partie content_top
      
      / partie contenu
        
      #NC_content
        / marge
        #NC_contentmarge
        / fin marge
        
        / partie gauche du contenu, raccourci
        #NC_contentleft
          / hauteur minimum du contenu
          .contentheightmin
          = render :partial => "visualisation/box_left"
        / fin partie gauche du contenu
        
        / partie centre fake du contenu, sert pour pousser vers le bas le footer, doit avoir la même taille que NC_contentcenter
        #fake_NC_contentcenter{ :style => "float:left; width:40px; height:10px" }
        / fin partie centre fake du contenu
        
        / partie centre du contenu, tableaux, informations importantes
        #NC_contentcenter.on
          / hauteur minimum du contenu
          .contentheightmin_1
          / #textetest{ :style => "float:left; width:650px; height:300px; border:thin solid #646464;" } 
          = render :partial => "visualisation/box_visu"
        / fin partie centre du contenu
        
        / partie droite du contenu, tableau des pieces, interface, bord...
        #NC_contentright.on
          / hauteur minimum du contenu
          .contentheightmin
          /= render :partial => "visualisation/box_right_pieces"
          /= render :partial => "visualisation/box_right_interfaces"
          = render :partial => "visualisation/box_right"
        / fin partie droite du contenu
        
        / scrollbar du contenu, raccourci
        #NC_contentscrollbar.on
          #NC_scrollbar
            #NC_marge_scrollbar
            %a{ :onclick => "NC_scroll(NC_current_scroll)", :style => "cursor: pointer;" }
              #NC_slider_scrollbar_1
              #NC_slider_scrollbar
              #NC_slider_scrollbar_2
        / fin scrollbar du contenu
      / fin NC_content
      
      / partie haute du footer, bas de la boite projet plus bouton
      #NC_footer_top
        %a{ :href => "/modele" }
          #NC_footer_bouton_sauver.NC_footer_top_bouton{ :style => "margin-left: 5px" }
            Retour liste des modèles 
        
      / fin partie haute du footer
      
      / partie basse du footer, mentions legale...
      #NC_footer
      / fin partie basse du footer
%script{ :type => "text/javascript" }
  model_id = #{@id_model};
  dim_model = #{@dim_model};
  $(document).ready(function() {get_info_model( #{@id_model} ) } );
  equal_height_NC_fake();
  $(document).ready( function() { init_visualisation(); } );
  displayBlack("on");